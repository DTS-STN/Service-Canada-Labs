(self.webpackChunkservice_canada_labs=self.webpackChunkservice_canada_labs||[]).push([[3362],{"./components/molecules/SurveyPopup.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),_SurveyPopup__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./components/molecules/SurveyPopup.js");__webpack_require__("./node_modules/@testing-library/react/dist/@testing-library/react.esm.js"),__webpack_require__("./node_modules/@testing-library/user-event/dist/esm/index.js");const __WEBPACK_DEFAULT_EXPORT__={title:"Components/Molecules/SurveyPopup",component:_SurveyPopup__WEBPACK_IMPORTED_MODULE_1__.U,parameters:{layout:"fullscreen",docs:{description:{component:'\nA feedback survey popup that appears at the bottom of the page. The popup can be expanded to show\na survey invitation and collapsed to show just the header. It includes accessibility features such as\nkeyboard navigation, focus management, and proper ARIA attributes.\n\n## Usage\n```jsx\nimport { SurveyPopup } from \'@components/molecules/SurveyPopup\';\n\n// With default translations\n<SurveyPopup />\n\n// With custom text\n<SurveyPopup \n  titleCollapsed="Give us feedback"\n  titleExpanded="Share your thoughts about our service"\n  description="Your feedback helps us improve our services."\n  noThanksText="Skip"\n  takeSurveyText="Start Survey"\n/>\n```\n\n## Accessibility\n- Uses proper ARIA attributes for expandable content\n- Manages focus when opened/closed\n- Supports keyboard navigation (Escape to close)\n- Screen reader friendly with descriptive labels\n'}}},decorators:[Story=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"h-screen relative",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Story,{})})],argTypes:{titleCollapsed:{control:"text"},titleExpanded:{control:"text"},description:{control:"text"},noThanksText:{control:"text"},takeSurveyText:{control:"text"},ariaLabel:{control:"text"},openButtonLabel:{control:"text"},closeButtonLabel:{control:"text"},optionsGroupLabel:{control:"text"}}},Default={args:{titleCollapsed:"Give us feedback",titleExpanded:"Share your thoughts about our service",description:"Your feedback helps us improve our services.",noThanksText:"Skip",takeSurveyText:"Start Survey",ariaLabel:"Feedback survey",openButtonLabel:"Open feedback form",closeButtonLabel:"Close feedback form",optionsGroupLabel:"Feedback options"},parameters:{docs:{description:{story:"The default state of the survey popup."}}}},__namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:'{\n  args: {\n    titleCollapsed: "Give us feedback",\n    titleExpanded: "Share your thoughts about our service",\n    description: "Your feedback helps us improve our services.",\n    noThanksText: "Skip",\n    takeSurveyText: "Start Survey",\n    ariaLabel: "Feedback survey",\n    openButtonLabel: "Open feedback form",\n    closeButtonLabel: "Close feedback form",\n    optionsGroupLabel: "Feedback options"\n  }\n}',...Default.parameters?.docs?.source}}}},"./components/molecules/SurveyPopup.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{U:()=>SurveyPopup});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),next_i18next__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/next-i18next/dist/esm/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);const SurveyPopup=({titleCollapsed,titleExpanded,description,noThanksText,takeSurveyText,ariaLabel,openButtonLabel,closeButtonLabel,optionsGroupLabel})=>{const[isOpen,setIsOpen]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),{t}=(0,next_i18next__WEBPACK_IMPORTED_MODULE_2__.$G)("common"),popupRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),noThanksRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),takeSurveyRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{isOpen&&noThanksRef.current&&noThanksRef.current.focus()}),[isOpen]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref:popupRef,role:"complementary","aria-label":ariaLabel||t("surveyPopup.ariaLabel"),onKeyDown:e=>{"Escape"===e.key&&isOpen&&setIsOpen(!1)},className:"fixed bottom-0 right-0 transition-all duration-300 ease-in-out z-40\n        "+(isOpen?"translate-y-0":"translate-y-[calc(100%-3.5rem)]"),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"layout-container",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"col-start-8 col-span-5 ml-auto",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"max-w-[416px] bg-custom-blue-dark text-white pl-6 pr-6 pt-3 pb-6 rounded-t-lg shadow-lg",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button",{onClick:()=>{setIsOpen(!isOpen)},className:"w-full flex items-center justify-between text-left mb-4 text-[25px] font-display","aria-expanded":isOpen,"aria-controls":"survey-content","aria-label":isOpen?closeButtonLabel||t("surveyPopup.closeButtonLabel"):openButtonLabel||t("surveyPopup.openButtonLabel"),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"transition-opacity duration-300 ease-in-out",children:isOpen?titleExpanded||t("surveyPopup.titleExpanded"):titleCollapsed||t("surveyPopup.titleCollapsed")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"transform transition-transform duration-300 self-start","aria-hidden":"true",style:{transform:isOpen?"rotate(180deg)":"rotate(0deg)"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-chevron-up",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{d:"M18 15l-6-6-6 6"})})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{id:"survey-content",role:"region","aria-hidden":!isOpen,className:"transition-all duration-300 ease-in-out overflow-hidden\n                "+(isOpen?"min-h-[180px] max-h-[400px] opacity-100":"max-h-0 opacity-0"),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"mb-6",children:description||t("surveyPopup.description")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"pl-1 flex gap-4 text-[20px]",role:"group","aria-label":optionsGroupLabel||t("surveyPopup.optionsGroupLabel"),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{ref:noThanksRef,className:"px-4 py-2 text-nowrap text-white underline hover:bg-white hover:text-custom-blue-dark transition-colors focus:outline-none focus:ring-4 focus:ring-white",onClick:()=>setIsOpen(!1),children:noThanksText||t("surveyPopup.noThanksButton")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{ref:takeSurveyRef,className:"px-4 py-2 bg-white text-custom-blue-dark hover:bg-gray-100 transition-colors rounded focus:outline-none focus:ring-2 focus:ring-white",children:takeSurveyText||t("surveyPopup.takeSurveyButton")})]})]})]})})})})};SurveyPopup.propTypes={titleCollapsed:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string,titleExpanded:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string,description:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string,noThanksText:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string,takeSurveyText:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string,ariaLabel:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string,openButtonLabel:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string,closeButtonLabel:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string,optionsGroupLabel:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string};SurveyPopup.__docgenInfo={description:"",methods:[],displayName:"SurveyPopup",props:{titleCollapsed:{description:"Text shown in the collapsed state",type:{name:"string"},required:!1},titleExpanded:{description:"Text shown in the expanded state",type:{name:"string"},required:!1},description:{description:"Description text shown in the expanded state",type:{name:"string"},required:!1},noThanksText:{description:'Text for the "No thanks" button',type:{name:"string"},required:!1},takeSurveyText:{description:'Text for the "Take the survey" button',type:{name:"string"},required:!1},ariaLabel:{description:"ARIA label for the popup container",type:{name:"string"},required:!1},openButtonLabel:{description:"ARIA label for the open button state",type:{name:"string"},required:!1},closeButtonLabel:{description:"ARIA label for the close button state",type:{name:"string"},required:!1},optionsGroupLabel:{description:"ARIA label for the options group",type:{name:"string"},required:!1}}}},"?6a05":()=>{},"?4f7e":()=>{}}]);